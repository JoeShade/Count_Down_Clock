#include "Logo.h"
#include "RGBmatrixPanel.h" // Load RGB Matrix library
#if defined(ARDUINO_ARCH_ESP32)
#include <pgmspace.h> // Load PROGMEM library for ESP32
#else
#include <avr/pgmspace.h> // Load PROGMEM library
#endif

const unsigned char bitmap [] PROGMEM=
{
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x7f, 0xc0, 0x07, 0x80, 0x00, 0x00, 
    0x00, 0x00, 0x60, 0xe0, 0x1f, 0xc0, 0x00, 0x00, 
    0x00, 0x00, 0xc0, 0x60, 0x18, 0xe0, 0x00, 0x00, 
    0x00, 0x00, 0xc0, 0x70, 0x30, 0x60, 0x00, 0x00, 
    0x00, 0x00, 0xc0, 0x3f, 0xb0, 0x7f, 0x00, 0x00, 
    0x00, 0x00, 0xc0, 0x03, 0xb0, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0xc0, 0x03, 0x38, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0xe0, 0x03, 0x1e, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x78, 0x06, 0x0e, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x1c, 0x06, 0x00, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x0c, 0x0c, 0x00, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x1c, 0x0c, 0x00, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x18, 0x1c, 0x00, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x18, 0x18, 0x00, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x18, 0x30, 0x00, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x18, 0x3f, 0x00, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x18, 0x7f, 0x00, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x18, 0x00, 0xff, 0xf3, 0x00, 0x00, 
    0x00, 0x00, 0x18, 0x7f, 0xff, 0xfb, 0x00, 0x00, 
    0x00, 0x00, 0x1f, 0xfe, 0x00, 0x0f, 0x00, 0x00, 
    0x00, 0x00, 0x1f, 0x00, 0x00, 0x0f, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x1b, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x7b, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0xe3, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x03, 0xc3, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x07, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x1e, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x78, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x01, 0xe0, 0x03, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x07, 0xff, 0xff, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x1f, 0xff, 0xff, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

extern RGBmatrixPanel matrix; // Find matrix object externally

void displayLogo() {
    for (int y = 0; y < 64; y++) {
        for (int x = 0; x < 64; x++) {
            int byteIndex = (y * 64 + x) / 8;  // Calculate byte index 
            int bitIndex = x % 8;  // Bit position within byte
            uint8_t pixel = (pgm_read_byte(&bitmap[byteIndex]) >> (7 - bitIndex)) & 1;  // Extract bit

            matrix.drawPixel(x, y, pixel ? matrix.Color333(7, 7, 7) : matrix.Color333(0, 0, 0));
        }
    }
    delay(2500); // Show logo for 2.5 seconds
    matrix.fillScreen(matrix.Color333(0, 0, 0)); // Clear screen
    delay(500);
}